<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Douglas McIlroy 'Darwin, a Game of Survival of the Fittest among Programs' (VX heaven)</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="Author" content="Douglas McIlroy"/>
<meta name="KeyWords" lang="en" content="computer virus, virus, virii,vx, компьютерные вирусы, вирус, вири, McIlroy, Douglas,Darwin, a Game of Survival of the Fittest among Programs, scatter, programs, darwin, species, memory, cards, player, make, arena, members, evolution, survival, laboratories, bell, umpire"/>
<meta name="Description" content="Darwin, a competition between self-reproducing programs, was conceived and played forty years ago at Bell Laboratories. The following pages were transcribed from a 1971 letter on which was based the first public description of Darwin, in the Computer Recreations column of Software - Practice and Experience, Volume 2 (1972) pages 91-96, written by ``Aleph-Null''. A decade further on, A. K. Dewdney's Scientific American column for May, 1984, described an updated version of the game, rechristened as Core Wars."/>
<script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok3v=1613a3a185/"},atok:"047a5bcbf67431883fc9ed25fba33612",petok:"2a87c1498f3633db5e77aa3140d9674ac5f19e81-1498756030-1800",zone:"vxheaven.org",rocket:"a",apps:{}}];document.write('<script type="text/javascript" src="//ajax.cloudflare.com/cdn-cgi/nexp/dok3v=85b614c0f6/cloudflare.min.js"><'+'\/script>');}}catch(e){};
//]]>
</script>
<link rel="icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="stylesheet" type="text/css" href="/style.css"/><link rel="canonical" href="http://vxheaven.org/lib/mdm00.html"/>
<script type="text/rocketscript" data-rocketsrc="https://apis.google.com/js/plusone.js">{"parsetags": "explicit"}</script>
</head>
<body bgcolor="#dbc8a0" text="#302000" link="#225599" vlink="#113366">
<div class="s1">
<div style="float:right;"><a href="/lib/index.php?tbs=1"><img src="/img/max.gif" alt="Maximize"/></a></div> <form id="lf" style="margin: 0; float: right;" method="get" action="/index.php"><input type="hidden" name="action" value="set"/><select name="lang" onchange="javascript:document.getElementById('lf').submit();"><option value="ru">Русский</option><option selected="selected" value="en">English</option><option value="ua">Українська</option><option value="de">Deutsch</option><option value="es">Español</option><option value="fr">Fran&ccedil;ais</option><option value="it">Italiano</option><option value="pl">Polski</option></select></form>
<div style="float: right;"><div id="plusone"></div></div>
<script type="text/rocketscript">gapi.plusone.render("plusone", {"size":"small","count":"true"});</script>
<div style="float: right;" class="addthis_toolbox addthis_default_style">
<script type="text/rocketscript">var addthis_config = { ui_click: true }</script>
<a style="text-decoration: none; font-size: 10pt;" href="/?action=addthis" class="addthis_button_compact">Bookmark</a>
<script type="text/rocketscript" data-rocketsrc="http://s7.addthis.com/js/250/addthis_widget.js#username=herm1t"></script>
</div>
<div style="float: right;">
<script type="text/rocketscript" data-rocketsrc="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>
<form action="/search.php" id="cse-search-box">
<input type="hidden" name="cx" value="002577580816726040001:z9_irkorydo"/>
<input type="hidden" name="cof" value="FORID:10"/>
<input type="hidden" name="ie" value="UTF-8"/>
<input type="text" name="q" size="12" value=" "/>
<input type="submit" name="sa" value="Search"/>
</form>
</div><h1><a href="/" style="text-decoration: none; color: #000000;">VX Heaven</a></h1>
<span class="nav"><a href="/lib/">Library</a> <a href="/vl.php">Collection</a> <a href="/src.php">Sources</a> <a href="/vx.php?id=eidx">Engines</a> <a href="/vx.php?id=tidx">Constructors</a> <a href="/vx.php?id=sidx">Simulators</a> <a href="/vx.php?id=uidx">Utilities</a> <a href="/links.php">Links</a> <a href="/donate.php" style="color: #706020" id="donate">Donate</a> <a href="/forum" style="text-decoration: underline;">Forum</a> </span><br clear="all"/>
</div>
<div class="s2"><h1>Darwin, a Game of Survival of the Fittest among Programs</h1><p><a href="/lib/?lang=en&amp;author=McIlroy%2C%20Douglas">Douglas McIlroy</a><br/> <em> 1971</em></p><script type="text/rocketscript">var disqus_url = 'http://vxheaven.org/lib/mdm00.html';</script><div class="ci"><a href="/lib/?ci=mdm00">2</a></div><img src="/img/pdf.gif" alt="PDF"/><a href="/lib/pdf/Darwin%2C%20a%20Game%20of%20Survival%20of%20the%20Fittest%20among%20Programs.pdf">Download</a> PDF (25.88Kb) (You need to be registered on <a href="/forum">forum</a>)<br/>[<a style="" href="/lib/?lang=EN&amp;index=HI#mdm00">Back to index</a>] [<a href="/lib/mdm00.html#disqus_thread">Comments</a>]<br/> 
<p>Darwin, a competition between self-reproducing programs, was conceived and played forty years ago at Bell Laboratories. The following pages were transcribed from a 1971 letter on which was based the first public description of Darwin, in the <a href="/lib/van00.html">Computer Recreations</a> column of <em>Software - Practice and Experience</em>, Volume 2 (1972) pages 91-96, written by ``Aleph-Null''. A decade further on, A. K. Dewdney's <em>Scientific American</em> column for May, 1984, described an updated version of the game, rechristened as Core Wars.</p>
<p>The letter includes the original 1961 rules of the game, descendants of which are alive and well today; see for example http://www.corewars.org.</p>
<p>The transcript was made by OCR with manual postediting. Aside from uncaught OCR errors, the text is original, but pagination, lineation, fonts, and clearly identified editorial comments are not. It should be noted that Aleph-Null and C. A. Lang are not the same person.</p>
 
<div style="float:right; width: 15em;">
Bell Laboratories<br/>
600 Mountain Avenue<br/>
Murray Hill, NewJersey<br/>
07974<br/>
Phone (201) 582-3000<br/>
June 29, 1971
</div><br clear="all"/>
<div>
MR. C. A. LANG, Editor<br/>
Software Practice and Experience<br/>
Computer Laboratory<br/>
Corn Exchange Street<br/>
Cambridge CB2 3QG<br/>
England
</div>
<p>Dear [hand-inked Aleph-Null]:</p>
<p>Ten years ago Vyssotsky invented an unusual game among computer programs <em>qua</em> programs, quite different from the usual games where programs are merely expressions of algorithms, necessary perhaps for speed, but not intrinsically dependent upon the computer. He propounded it one day in August 1961; McIlroy coded the umpire that night; a Bell Laboratories comp center job number, the abstract of which became the enclosed flyer ``Darwin: A Game of Survival and (Hopefully) Evolution'' was filed next morning; several rounds of the game were played until a couple of weeks later Morris invented the ultimately lethal competitor.</p>
<p>The rules given in the flyer should be augmented by the specific calls that a player makes on the umpire</p>
<pre class="source">
	hisno,bot,top = probe(loc,myno)
	kill(loc,myno)
	claim(loc,myno)
</pre>
<p>where</p>
<pre class="source">
	loc = a memory address in the arena
	myno = my species number
	hisno = 0 if loc is unoccupied else the number of the species
		occupying loc
	bot,top = limits (first and last + 1) of the largest contiguous
		free space surrounding
		loc including space taken up by anyoccupant of loc
</pre>
<p>For any particular ``loc'', ``probe'' must precede ``kill'' or ``claim.'' Of course control vanished without a trace when ``probe'' landed on a protected cell. ``Kill'' would do in any individual regardless of species number. ``Claim'' specified an origin (necessarily between bot and top) for a newly reproduced individual. Any unreasonable request to the umpire resulted in extermination of the offending species.</p>
<p>The smallest creature capable of looping through memory and performing all three functions was about 30 [IBM] 7090 instructions long. The calling sequences were very efficient so most of the code in fact was involved with searching and reproduction - the latter being a nontrivial task since the code of an individual could not simply be copied but had to be correctly relocated. Vyssotsky invented a move-and-relocate loop of five instructions that instantly became standard.</p>
 
<p>McIlroy had a tiny creature only 15 cells long that could probe and kill, for which we had to cut down the limit of 20 protected cells lest it be immortal. Before decent search strategies evolved this simple hard-shelled ``virus''actually won a few rounds.</p>
<p>Morris's lethal beast that brought an end to the game occupied 44 memory cells and incorporated an ingenious adaptive search. Once an individual of his species had successfully located the top of a free space, and thereby the bottom of some other (unknown) individual it would pick a small integer and poke that far up into the newly located creature. When it successfully found an enemy it would use the same increment on the next individual in memory and so on. If on the other hand it lost control, next time the creature got control it would change its poking increment. Newly reproduced individuals were initialized with a successful increment. By this absurdly simply strategem Morris had made a species each individual of which adapted itself to be lethal against the pattern of protection of some other species. The more thickly memory was inhabited by the enemy, the more virulent was Morris'sattack.</p>
<p>One experiment in ``bisexualism'' was a flop. Species had two kinds of individuals, one to search and destroy and another to reproduce either kind. The two species had to work so hard to find each other that each individual occupied almost as much space as an individual of a unisex species, so the division of labor gained nothing in viability. Worse yet, the species could be done in by wiping out just the members of one sex instead of the whole population.</p>
<p>Some rounds of the game, especially when two or more differently protected species of Morris's were pitted against each other, showed an oscillation in population. If the population of species A swelled at the expense of B it would become vulnerable to C and so on in rotation.</p>
<p>We usually used an arena of 10,000 locations. The games always went fast, under a minute, thanks to the fact that the individual programs were executed rather than interpreted. Interpretation would have guaranteed that the rules were obeyed but the honesty rule that all programs must be circulated among all players at the end of each round was just as satisfactory and probably made the game go 20 or 30 times faster.</p>
<p>Besides the amusing exercise of writing self-reproducing programs, the game posed another unusual implementation puzzle: How conveniently to use existing system features to get the game started? We had to load a large number of copies of each of a handful of very small programs at random origins. Needless to say, our regular loader had not been intended for this application. Here was a case where we wanted the ``scatter'' of ``scatter loading'' to mean what it does in ``scatter storage.''<sup><a href="#f1" name="b1">*</a></sup> We actually resorted to ginning up decks of loader origin control cards and creating corresponding tables for the umpire in a semiautomatic fashion. We would sandwich all this stuff by hand between a few system control cards to make it into a job. In those bad old days the computing system was not very good at feeding itself (and to this day the manufacturers seem to think this is a just and proper state of affairs!).</p>
<p>Though Morris cleaned up under the particular rules, Darwin would again become interesting if the umpire introduced a little randomness in any of a number of ways. One
 
can then imagine trying more elaborate pattern-matching searches, to be countered by cryptography, then ... Machine language buffs will get a special kick out of Darwin, for here cleverness is all; and cleanness counts for nought.</p>
<div style="float:right; width: 15em;">
M. D. McIlroy<br/>
R. MORRIS<br/>
V. A.VYSSOTSKY
</div><br clear="all"/>
<h2>Attachment</h2>
 
<h2>DARWIN: A GAME OF SURVIVAL AND (HOPEFULLY) EVOLUTION</h2>
<div align="center">
by<br/>
V. A.Vyssotskyetal.<br/>
Bell Telephone Laboratories, Incorporated<br/>
Murray Hill, NewJersey
</div>
<h2>INTRODUCTION</h2>
<p>Darwin is a game of survival and (hopefully) evolution played by two or more people, using the 7090. Each player devises a program or programs; the programs of any one player constitute a species. All the players' programs are simultaneously in a section of core known as the arena. Whicheverprogram is currently in control tries</p>
<ol type="a">
<li>to replicate itself in an unoccupied part of the arena</li>
<li>as a means to this end, to destroy members of other species by attacking their vulnerable locations.</li>
</ol>
<p>If the program in control attacks a ``protected'' location of another program, control passes to the program which was attacked.</p>
<p>Outside the arena there is an umpire, which keeps track of who occupies what parts of the playing area, and which cells are protected. The umpire informs the organisms in the arena about the status of any cell in the arena, and switches control if a question is asked about protected storage.</p>
<p>Each game continues until either time runs out or only one species remains. If the members of one species manage to destroy all members of all other species, the player who coded the surviving species wins.</p>
<p>At the conclusion of each game, all programs used by all players are made available for study, to allow the players to alter their strategies in an intelligent fashion for the next game.</p>
<p>The detailed rules of Darwin are such that it can be played on high speed express runs.</p>
 
<h2>RULES FOR DARWIN</h2>
<p>A <em>species</em> consists of a species number N, a size S(N), an origin O(N), and twenty protected locations P1(N), ..., P20(N). Each player may choose S(N), O(N), P1(N), ..., P20(N) arbitrarily, subject only to the constraints that each of O(N), P1(N), ..., P20(N) shall be less than S(N), and S(N) shall be less than 2000.</p>
<p>An organism of species N is a program which satisfies the following rules:</p>
<ol>
<li>It occupies S(N) locations, L, ..., L+S(N)-1.</li>
<li>It has a single entry point L + O(N).</li>
<li>It may not look inside the umpire, or elsewhere outside the arena.</li>
<li>It may not alter storage locations outside its own block without first notifying the umpire.</li>
<li>Whenever it calls the umpire for any reason, the organism identifies itself by its species number, N.</li>
<li>The organism may not make use of input-output, or of any traps or trapping modes.</li>
</ol>
<p>An organism may be any program whatsoever which obeys these restrictions. It may employ any desired computational procedures, may look at any cell in the arena, including cells occupied by members of other species. A player is entitled to make the members of his species communicate or cooperate in any desired fashion, or he may make them ignore each other. Different members of a species need not be the same; there may be as many different subspecies as desired, having in common only N, S(N), O(N), P1(N), ..., P20(N).</p>
<p>At the beginning of play each player is entitled to have in the arena the largest number of organisms which will fit into the lesser of 2000 or A/2M locations, where A is the size of the arena and M is the number of players. The umpire will assign actual storage locations to the organisms by a pseudo-random algorithm, and will transfer control initially to the first organism of minimal size.</p>
<p>Players are expected to debug their species before, and separately from, the actual game. A wild transfer, a program loop, or the illegal destruction of the contents of cells outside the organism currently in control shall lose the game for the responsible player.</p>
<hr/>
<p><a name="f1" href="#b1">*</a> "Scatter loading'' referred to binary punched cards that told on a per-card basis where the data belonged in memory; typically successive cards were contiguous. ``Scatter storage''iswhat is nowcalled a hash table.</p>
[<a style="" href="/lib/?lang=EN&amp;index=HI#mdm00">Back to index</a>] [<a href="/lib/mdm00.html#disqus_thread">Comments</a>]<br/> <div id="disqus_thread"></div>
<script type="text/rocketscript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'vxheaven'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
<div><small>By accessing, viewing, downloading or otherwise using this content you agree to be bound by the <a href="/agreement.php">Terms of Use</a>!</small> <small>vxheaven.org aka vx.netlux.org</small></div>
<div style="margin-top: 2px; float: left;" class="adsapeu">
<script type="text/rocketscript">
<!--
var _acic={dataProvider:10};(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src="//www.acint.net/aci.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
//-->
</script>
</div>
<script data-rocketsrc="http://www.google-analytics.com/urchin.js" type="text/rocketscript"></script><script type="text/rocketscript">try { _uacct = "UA-590608-1"; urchinTracker(); } catch(err) {}</script>
<div style="display: none;"><a href="/lib/index.php?lang=de&amp;id=mdm00">de</a><a href="/lib/index.php?lang=en&amp;id=mdm00">en</a><a href="/lib/index.php?lang=es&amp;id=mdm00">es</a><a href="/lib/index.php?lang=it&amp;id=mdm00">it</a><a href="/lib/index.php?lang=fr&amp;id=mdm00">fr</a><a href="/lib/index.php?lang=pl&amp;id=mdm00">pl</a><a href="/lib/index.php?lang=ru&amp;id=mdm00">ru</a><a href="/lib/index.php?lang=ua&amp;id=mdm00">ua</a></div>
</body>
</html>
